<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Producto ‚Äì EcoMarket</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/eco.css" />
</head>
<body>
  <header class="navbar navbar-expand-lg bg-white">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="EcoMarket.html">
        <img src="branding/logo-ecomarket.svg" alt="Logo EcoMarket" style="height:36px;width:auto;" />
        <span class="brand-text">EcoMarket</span>
      </a>
      <div class="ms-auto">
        <a class="nav-link" href="carrito.html">üõí <span id="cartCount">0</span></a>
      </div>
    </div>
  </header>

  <main class="container py-4">
    <div class="row g-4">
      <div class="col-md-6">
        <img id="prodImg" src="img/default.jpg" alt="Producto" class="w-100 rounded" />
      </div>
      <div class="col-md-6">
        <h1 id="prodName">Producto</h1>
        <p class="lead">Precio: <span id="prodPrice">S/.0.00</span></p>
        <p id="prodDesc">Descripci√≥n breve del producto destacando su frescura, origen y beneficios.</p>
        <div class="d-flex gap-2">
          <button id="addBtn" class="btn btn-primary">A√±adir al carrito</button>
          <a href="tienda.html" class="btn btn-outline-primary">Volver a tienda</a>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Obtener el id desde la URL
    var params = new URLSearchParams(window.location.search);
    var id = params.get('id');

    // Variables del producto (sin objetos ni JSON)
    var name = 'Producto';
    var price = 0;
    var img = 'img/default.jpg';
    var desc = 'Descripci√≥n breve del producto destacando su frescura, origen y beneficios.';

    // Asignar datos seg√∫n el id (if/else cl√°sico)
    if (id === 'brocoli') {
      name = 'Br√≥coli';
      price = 8;
      img = 'img/brocoli.jpg';
      desc = 'Br√≥coli fresco, rico en vitaminas y fibra.';
    } else if (id === 'tomate') {
      name = 'Tomate';
      price = 4.5;
      img = 'img/tomate.jpg';
      desc = 'Tomate org√°nico de sabor intenso y natural.';
    } else if (id === 'cebolla') {
      name = 'Cebolla';
      price = 5;
      img = 'img/cebolla.jpg';
      desc = 'Cebolla seleccionada, ideal para tus recetas diarias.';
    } else if (id === 'zapallo') {
      name = 'Zapallo';
      price = 2;
      img = 'img/zapallo.jpg';
      desc = 'Zapallo dulce y vers√°til, perfecto para sopas y pur√©s.';
    } else {
      // Valor por defecto si no hay id v√°lido
      id = 'brocoli';
      name = 'Br√≥coli';
      price = 8;
      img = 'img/brocoli.jpg';
      desc = 'Br√≥coli fresco, rico en vitaminas y fibra.';
    }

    // Pintar en el DOM
    document.getElementById('prodName').textContent = name;
    document.getElementById('prodPrice').textContent = 'S/.' + price.toFixed(2);
    document.getElementById('prodImg').src = img;
    document.getElementById('prodDesc').textContent = desc;

    // Conectar el bot√≥n "A√±adir" con la funci√≥n global addToCart de app.js
    document.getElementById('addBtn').addEventListener('click', function () {
      // Usa la funci√≥n global definida en js/app.js
      if (typeof addToCart === 'function') {
        addToCart(id, name, price);
        alert(name + ' a√±adido al carrito');
      } else {
        alert('Funci√≥n de carrito no disponible.');
      }
    });
  </script>

  <script src="js/eco.js"></script>
</body>
</html>
